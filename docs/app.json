[{"name": "app.py", "content": "from shiny import reactive, render\nfrom shiny.express import ui\nimport random\nfrom datetime import datetime\nfrom faicons import icon_svg\n\n\nUPDATE_INTERVAL_SECS: int = 1\n\n@reactive.calc()\ndef reactive_calc_combined():\n\n    # Invalidate this calculation every UPDATE_INTERVAL_SECS to trigger updates\n    reactive.invalidate_later(UPDATE_INTERVAL_SECS)\n\n    # Data generation logic. Get random between -18 and -16 C, rounded to 1 decimal place\n    temp = round(random.uniform(-18, -16), 1)\n\n    # Get a timestamp for \"now\" and use string format strftime() method to format it\n    timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n\n    latest_dictionary_entry = {\"temp\": temp, \"timestamp\": timestamp}\n\n    # Return everything we need\n    return latest_dictionary_entry\n\n# ------------------------------------------------\n# Define the Shiny UI Page layout - Page Options\n# ------------------------------------------------\n\n\nui.page_opts(title=\"PyShiny Express: Live Data (Basic)\", fillable=True)\n\n# ------------------------------------------------\n# Define the Shiny UI Page layout - Sidebar\n# ------------------------------------------------\n\nwith ui.sidebar(open=\"open\"):\n    ui.h2(\"Antarctic Explorer\", class_=\"text-center\")\n    ui.p(\n        \"A demonstration of real-time temperature readings in Antarctica.\",\n        class_=\"text-center\",\n    )\n\n\n#---------------------------------------------------------------------\n# In Shiny Express, everything not in the sidebar is in the main panel\n#---------------------------------------------------------------------\n\n\nui.h2(\"Current Temperature\")\n\n@render.text\ndef display_temp():\n    \"\"\"Get the latest reading and return a temperature string\"\"\"\n    latest_dictionary_entry = reactive_calc_combined()\n    return f\"{latest_dictionary_entry['temp']} C\"\n\nui.p(\"warmer than usual\")\n\nicon_svg(\"sun\")\n\nui.hr()\n\nui.h2(\"Current Date and Time\")\n\n@render.text\ndef display_time():\n    \"\"\"Get the latest reading and return a timestamp string\"\"\"\n    latest_dictionary_entry = reactive_calc_combined()\n    return f\"{latest_dictionary_entry['timestamp']}\"", "type": "text"}]